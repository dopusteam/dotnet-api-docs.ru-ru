<Type Name="TransferMode" FullName="System.ServiceModel.TransferMode">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="fd27ea071ce2cdc686ce977d83a9516b7b04aeb8" />
    <Meta Name="ms.sourcegitcommit" Value="6a0b904069161bbaec4ffd02aa7d9cf38c61e72e" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="06/24/2018" />
    <Meta Name="ms.locfileid" Value="36410301" />
  </Metadata>
  <TypeSignature Language="C#" Value="public enum TransferMode" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed TransferMode extends System.Enum" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.TransferMode" />
  <TypeSignature Language="VB.NET" Value="Public Enum TransferMode" />
  <TypeSignature Language="C++ CLI" Value="public enum class TransferMode" />
  <TypeSignature Language="F#" Value="type TransferMode = " />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Enum</BaseTypeName>
  </Base>
  <Docs>
    <summary>
      <span data-ttu-id="a0d39-101">Указывает, использует ли канал для передачи сообщений запросов и ответов потоковый режим или режим буферизации.</span>
      <span class="sxs-lookup">
        <span data-stu-id="a0d39-101">Indicates whether a channel uses streamed or buffered modes for the transfer of request and response messages.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="a0d39-102">Windows Communication Foundation (WCF) транспорты поддерживают два режима передачи сообщений в каждом направлении:</span><span class="sxs-lookup"><span data-stu-id="a0d39-102">Windows Communication Foundation (WCF) transports support two modes of transferring messages in each direction:</span></span>  
  
-   <span data-ttu-id="a0d39-103">При буферизованной передаче все сообщение хранится в буфере памяти до завершения передачи.</span><span class="sxs-lookup"><span data-stu-id="a0d39-103">Buffered transfers hold the entire message in a memory buffer until the transfer is complete.</span></span>  
  
-   <span data-ttu-id="a0d39-104">При потоковой передаче заголовки сообщения помещаются в буфер, а текст сообщения передается в виде потока, из которого оно считывается небольшими частями поочередно.</span><span class="sxs-lookup"><span data-stu-id="a0d39-104">Streamed transfers only buffer the message headers and expose the message body as a stream, from which smaller portions can be read at a time.</span></span>  
  
 <span data-ttu-id="a0d39-105">Выбор режима передачи для Streamed обеспечивает потоковую передачу в обоих направлениях.</span><span class="sxs-lookup"><span data-stu-id="a0d39-105">Setting the transfer mode to Streamed enables streaming communication in both directions.</span></span> <span data-ttu-id="a0d39-106">Выбор режима передачи StreamedRequest или StreamedResponse обеспечивает потоковую передачу только в указанном направлении.</span><span class="sxs-lookup"><span data-stu-id="a0d39-106">Setting the transfer mode to StreamedRequest or StreamedResponse enables streaming communication only in the indicated direction.</span></span>  
  
 <span data-ttu-id="a0d39-107">Потоковая передача позволяет улучшить возможности масштабирования службы за счет исключения необходимости использовать большие буферы памяти.</span><span class="sxs-lookup"><span data-stu-id="a0d39-107">Streamed transfers can improve the scalability of a service by eliminating the need for large memory buffers.</span></span> <span data-ttu-id="a0d39-108">Степень улучшения масштабируемости при изменении режима передачи на практике зависит от размера передаваемых сообщений.</span><span class="sxs-lookup"><span data-stu-id="a0d39-108">Whether changing the transfer mode actually improves scalability in practice depends on the size of the messages being transferred.</span></span> <span data-ttu-id="a0d39-109">Улучшение масштабируемости наиболее заметно, когда для больших сообщений используется потоковая передача вместо буферизованной.</span><span class="sxs-lookup"><span data-stu-id="a0d39-109">Improvements in scalability should be most evident when large messages use streamed instead of buffered transfers.</span></span>  
  
 <span data-ttu-id="a0d39-110">По умолчанию транспорты HTTP, TCP/IP и именованных каналов используют буферизованную передачу сообщений.</span><span class="sxs-lookup"><span data-stu-id="a0d39-110">By default, the HTTP, TCP/IP and named pipe transports use buffered message transfers.</span></span> <span data-ttu-id="a0d39-111">Можно задать значения режима передачи <xref:System.ServiceModel.TransferMode.Streamed> в системных привязках <xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.NetTcpBinding> и <xref:System.ServiceModel.NetNamedPipeBinding> с помощью предоставляемых ими свойств режима передачи.</span><span class="sxs-lookup"><span data-stu-id="a0d39-111">You can set the values of <xref:System.ServiceModel.TransferMode.Streamed> on the <xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.NetTcpBinding>, <xref:System.ServiceModel.NetNamedPipeBinding> system-provided bindings using the transfer mode properties exposed on them.</span></span> <span data-ttu-id="a0d39-112">Например, с помощью свойства <xref:System.ServiceModel.NetTcpBinding> можно задать режим привязки <xref:System.ServiceModel.NetTcpBinding.TransferMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="a0d39-112">The mode can be set on the <xref:System.ServiceModel.NetTcpBinding>, for example, by using the <xref:System.ServiceModel.NetTcpBinding.TransferMode%2A> property.</span></span> <span data-ttu-id="a0d39-113">Также это можно сделать и в разделе конфигурации привязки.</span><span class="sxs-lookup"><span data-stu-id="a0d39-113">It can also be set in the configuration section for the binding.</span></span>  
  
 <span data-ttu-id="a0d39-114">Режим передачи для привязок, не предоставляющих свойство режима передачи, может быть задан с помощью элемента привязки транспорта с его последующим добавлением в пользовательскую привязку.</span><span class="sxs-lookup"><span data-stu-id="a0d39-114">For bindings that do not expose the transfer mode property, the transfer mode can be set on the binding element of the transport and this element can then be added to a custom binding.</span></span> <span data-ttu-id="a0d39-115">Например, создайте элемент привязки <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, а при создании пользовательской привязки задайте режим передачи с помощью свойства <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.TransferMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="a0d39-115">For example, create an <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and use the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.TransferMode%2A> property to set the transfer mode when creating a custom binding.</span></span> <span data-ttu-id="a0d39-116">Режим передачи также можно задать и в разделе конфигурации пользовательской привязки.</span><span class="sxs-lookup"><span data-stu-id="a0d39-116">The transfer mode can also be set in the configuration section for the custom binding.</span></span>  
  
 <span data-ttu-id="a0d39-117">Решение по использованию буферизованной или потоковой передачи для транспортов HTTP является локальным решением конечной точки.</span><span class="sxs-lookup"><span data-stu-id="a0d39-117">The decision to use either buffered or streamed transfers is a local decision of the endpoint for HTTP transports.</span></span> <span data-ttu-id="a0d39-118">Для транспортов HTTP режим передачи не распространяется по соединению, на прокси-серверы или на других посредников.</span><span class="sxs-lookup"><span data-stu-id="a0d39-118">For HTTP transports, the transfer mode does not propagate across a connection, or to proxy servers or other intermediaries.</span></span> <span data-ttu-id="a0d39-119">Выбор режима передачи не отражается в описании контракта службы.</span><span class="sxs-lookup"><span data-stu-id="a0d39-119">Setting the transfer mode is not reflected in the description of the service contract.</span></span> <span data-ttu-id="a0d39-120">Чтобы задать режим передачи, после создания прокси-сервера для службы можно изменить файл конфигурации (это разрешено, но не является обязательным) для тех служб, которые планируется использовать с потоковой передачей.</span><span class="sxs-lookup"><span data-stu-id="a0d39-120">After generating a proxy to a service, you can (it is allowed but not required) edit the configuration file for services intended to be used with streamed transfers to set the transfer mode.</span></span> <span data-ttu-id="a0d39-121">Для транспортов TCP и именованного канала режим передачи распространяется в виде утверждения политики.</span><span class="sxs-lookup"><span data-stu-id="a0d39-121">For TCP and named pipe transports, the transfer mode is propagated as a policy assertion.</span></span>  
  
 <span data-ttu-id="a0d39-122">С помощью режима передачи Streamed заставляет среду выполнения WCF накладывает некоторые ограничения.</span><span class="sxs-lookup"><span data-stu-id="a0d39-122">Using the Streamed transfer mode causes the WCF runtime to enforce some restrictions.</span></span>  
  
-   <span data-ttu-id="a0d39-123">Операции, происходящие в потоковом транспорте, могут иметь контракт на уровне модели программирования не более чем с одним входным и/или выходным параметром.</span><span class="sxs-lookup"><span data-stu-id="a0d39-123">Operations that occur across a streamed transport can have a contract with at most one input and/or one output parameter at the programming model layer.</span></span> <span data-ttu-id="a0d39-124">Этот параметр соответствует всему тексту сообщения и должен иметь тип <xref:System.ServiceModel.Channels.Message>, являться подтипом <xref:System.IO.Stream> или реализовывать интерфейс <xref:System.Xml.Serialization.IXmlSerializable>.</span><span class="sxs-lookup"><span data-stu-id="a0d39-124">That parameter corresponds to the entire body of the message and must be a <xref:System.ServiceModel.Channels.Message>, be a subtype of <xref:System.IO.Stream>, or implement the <xref:System.Xml.Serialization.IXmlSerializable> interface.</span></span> <span data-ttu-id="a0d39-125">Наличие возвращаемого значения операции эквивалентно наличию выходного параметра.</span><span class="sxs-lookup"><span data-stu-id="a0d39-125">Having a return value for an operation is equivalent to having an output parameter.</span></span>  
  
-   <span data-ttu-id="a0d39-126">Некоторые функции WCF, такие как надежный обмен сообщениями и безопасность на уровне сообщений SOAP используют буферизацию сообщений при передаче.</span><span class="sxs-lookup"><span data-stu-id="a0d39-126">Some WCF features such as Reliable Messaging and SOAP message-level security rely on buffering messages for transmissions.</span></span> <span data-ttu-id="a0d39-127">Использование этих возможностей может уменьшить или свести до минимума повышение производительности, достигаемое за счет потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="a0d39-127">Using these features may reduce or eliminate the performance benefits gained by using streaming.</span></span> <span data-ttu-id="a0d39-128">Для защиты потокового транспорта следует использовать либо безопасность только на транспортном уровне, либо безопасность в смешанном режиме, которая объединяет требования WS-Security с безопасностью транспорта.</span><span class="sxs-lookup"><span data-stu-id="a0d39-128">To secure a streamed transport, use transport level security only or use mixed-mode security, which combines WS-Security claims with transport security.</span></span>  
  
-   <span data-ttu-id="a0d39-129">Заголовки SOAP буферизуются всегда, даже в том случае, если выбран режим передачи для Streamed.</span><span class="sxs-lookup"><span data-stu-id="a0d39-129">SOAP headers are always buffered, even when the transfer mode is set to Streamed.</span></span> <span data-ttu-id="a0d39-130">Размер заголовков сообщений не должен превышать размер квоты транспорта MaxBufferSize, которая предоставляется некоторым привязкам и элементам привязки.</span><span class="sxs-lookup"><span data-stu-id="a0d39-130">The headers for a message must not exceed the size of the MaxBufferSize transport quota which is exposed on the various bindings and binding elements.</span></span>  
  
 <span data-ttu-id="a0d39-131">Изменение режима передачи с помещаются на Streamed также изменяет собственной формы канала для транспортов TCP и именованного канала.</span><span class="sxs-lookup"><span data-stu-id="a0d39-131">Changing the transfer mode from Buffered to Streamed also changes the native channel shape of the TCP and named pipe transports.</span></span> <span data-ttu-id="a0d39-132">При буферизованной передаче собственная форма канала представлена интерфейсом <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span><span class="sxs-lookup"><span data-stu-id="a0d39-132">For buffered transfers, the native channel shape is <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span></span> <span data-ttu-id="a0d39-133">При потоковой передаче собственные каналы представлены интерфейсами <xref:System.ServiceModel.Channels.IRequestChannel> и <xref:System.ServiceModel.Channels.IReplyChannel>.</span><span class="sxs-lookup"><span data-stu-id="a0d39-133">For streamed transfers, the native channels are <xref:System.ServiceModel.Channels.IRequestChannel> and <xref:System.ServiceModel.Channels.IReplyChannel>.</span></span> <span data-ttu-id="a0d39-134">Вследствие этого контракты сеансовой службы не могут использоваться совместно с потоковой передачей транспорта.</span><span class="sxs-lookup"><span data-stu-id="a0d39-134">A consequence of this is that sessionful service contracts cannot be used with transport streaming.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="a0d39-135">В следующем образце кода показано задание <xref:System.ServiceModel.TransferMode> свойства Streamed посредством кода:</span><span class="sxs-lookup"><span data-stu-id="a0d39-135">The following code sample shows setting the <xref:System.ServiceModel.TransferMode> property to Streamed through code:</span></span>  
  
 <span data-ttu-id="a0d39-136">**c#**</span><span class="sxs-lookup"><span data-stu-id="a0d39-136">**c#**</span></span>  
  
```  
TcpTransportBindingElement transport = new TcpTransportBindingElement();  
transport.TransferMode = TransferMode.Streamed;  
BinaryMessageEncodingBindingElement encoder = new BinaryMessageEncodingBindingElement();  
CustomBinding binding = new CustomBinding(encoder, transport);  
```  
  
 <span data-ttu-id="a0d39-137">В следующем примере демонстрируется <xref:System.ServiceModel.TransferMode.Streamed> свойства Streamed через конфигурацию:</span><span class="sxs-lookup"><span data-stu-id="a0d39-137">The following sample shows <xref:System.ServiceModel.TransferMode.Streamed> property to Streamed through configuration:</span></span>  
  
```  
<customBinding>  
    <binding name="streamingBinding">  
        <binaryMessageEncoding />  
            <tcpTransport transferMode="Streamed" />  
     </binding>  
</customBinding>  
```  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Buffered">
      <MemberSignature Language="C#" Value="Buffered" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.TransferMode Buffered = int32(0)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.TransferMode.Buffered" />
      <MemberSignature Language="VB.NET" Value="Buffered" />
      <MemberSignature Language="C++ CLI" Value="Buffered" />
      <MemberSignature Language="F#" Value="Buffered = 0" Usage="System.ServiceModel.TransferMode.Buffered" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.TransferMode</ReturnType>
      </ReturnValue>
      <MemberValue>0</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="a0d39-138">Сообщения запроса и ответа буферизуются.</span>
          <span class="sxs-lookup">
            <span data-stu-id="a0d39-138">The request and response messages are both buffered.</span>
          </span>
        </summary>
      </Docs>
    </Member>
    <Member MemberName="Streamed">
      <MemberSignature Language="C#" Value="Streamed" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.TransferMode Streamed = int32(1)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.TransferMode.Streamed" />
      <MemberSignature Language="VB.NET" Value="Streamed" />
      <MemberSignature Language="C++ CLI" Value="Streamed" />
      <MemberSignature Language="F#" Value="Streamed = 1" Usage="System.ServiceModel.TransferMode.Streamed" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.TransferMode</ReturnType>
      </ReturnValue>
      <MemberValue>1</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="a0d39-139">Сообщения запроса и ответа передаются потоком.</span>
          <span class="sxs-lookup">
            <span data-stu-id="a0d39-139">The request and response messages are both streamed.</span>
          </span>
        </summary>
      </Docs>
    </Member>
    <Member MemberName="StreamedRequest">
      <MemberSignature Language="C#" Value="StreamedRequest" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.TransferMode StreamedRequest = int32(2)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.TransferMode.StreamedRequest" />
      <MemberSignature Language="VB.NET" Value="StreamedRequest" />
      <MemberSignature Language="C++ CLI" Value="StreamedRequest" />
      <MemberSignature Language="F#" Value="StreamedRequest = 2" Usage="System.ServiceModel.TransferMode.StreamedRequest" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.TransferMode</ReturnType>
      </ReturnValue>
      <MemberValue>2</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="a0d39-140">Сообщение запроса передается потоком, а сообщение ответа буферизуется.</span>
          <span class="sxs-lookup">
            <span data-stu-id="a0d39-140">The request message is streamed and the response message is buffered.</span>
          </span>
        </summary>
      </Docs>
    </Member>
    <Member MemberName="StreamedResponse">
      <MemberSignature Language="C#" Value="StreamedResponse" />
      <MemberSignature Language="ILAsm" Value=".field public static literal valuetype System.ServiceModel.TransferMode StreamedResponse = int32(3)" />
      <MemberSignature Language="DocId" Value="F:System.ServiceModel.TransferMode.StreamedResponse" />
      <MemberSignature Language="VB.NET" Value="StreamedResponse" />
      <MemberSignature Language="C++ CLI" Value="StreamedResponse" />
      <MemberSignature Language="F#" Value="StreamedResponse = 3" Usage="System.ServiceModel.TransferMode.StreamedResponse" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.ServiceModel.TransferMode</ReturnType>
      </ReturnValue>
      <MemberValue>3</MemberValue>
      <Docs>
        <summary>
          <span data-ttu-id="a0d39-141">Сообщение запроса буферизуется, а сообщение ответа передается потоком.</span>
          <span class="sxs-lookup">
            <span data-stu-id="a0d39-141">The request message is buffered and the response message is streamed.</span>
          </span>
        </summary>
      </Docs>
    </Member>
  </Members>
</Type>