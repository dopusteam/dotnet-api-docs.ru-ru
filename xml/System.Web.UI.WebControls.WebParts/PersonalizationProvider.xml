<Type Name="PersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.PersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="4ed869ade48c2d13d6c9ac52a586347c02426dbd" /><Meta Name="ms.sourcegitcommit" Value="2dd0eede6edd6dd3d2aa8f79010848658b967609" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="04/18/2019" /><Meta Name="ms.locfileid" Value="59351839" /></Metadata><TypeSignature Language="C#" Value="public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit PersonalizationProvider extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class PersonalizationProvider&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class PersonalizationProvider abstract : System::Configuration::Provider::ProviderBase" />
  <TypeSignature Language="F#" Value="type PersonalizationProvider = class&#xA;    inherit ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="4a8e3-101">Реализует базовые функциональные возможности для поставщика личной настройки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-101">Implements the basic functionality for a personalization provider.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-102">Это абстрактный базовый класс, который определяет необходимые функциональные возможности для поставщика личной настройки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-102">This is the abstract base class that defines the required functionality of a personalization provider.</span></span> <span data-ttu-id="4a8e3-103">Поставщик персонализации загружает и хранит данные персонализации, от имени <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляра.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-103">A personalization provider both loads and stores personalization data on behalf of a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance.</span></span>  
  
 <span data-ttu-id="4a8e3-104">Базовый класс определяет стандартное поведение для нескольких методов. только те методы, которые специально предназначены для работы с базового хранилища данных помечаются как абстрактный.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-104">The base class defines standard behavior for a number of methods; only those methods that specifically deal with the underlying data store are marked abstract.</span></span> <span data-ttu-id="4a8e3-105">Это позволяет разработчикам писать пользовательский поставщик для взаимодействия с хранилищем данных, без необходимости реализации стандартных функций, используемых <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-105">This allows a developer to write a custom provider to interact with a specific data store, without needing to re-implement standard functionality used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class.</span></span>  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="4a8e3-106">Можно наследовать от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> и предоставляют реализации для абстрактных методов, определенных в данном классе.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-106">You can derive from <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> and provide implementations for only the abstract methods defined in this class.</span></span> <span data-ttu-id="4a8e3-107">Абстрактные методы работы, в частности для сохранения и загрузки данных к физическому хранилищу данных и администрирования хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-107">The abstract methods deal specifically with saving and loading data to a physical data store, and with data store administration.</span></span> <span data-ttu-id="4a8e3-108">Пользовательский поставщик должен иметь возможность работы с ними персонализации таким образом, являющийся отличительным признаком <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> данные из <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-108">A custom provider must be capable of manipulating personalization information in a manner that distinguishes <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> data from <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> data.</span></span> <span data-ttu-id="4a8e3-109">Кроме того поставщик должен разделять данные персонализации, страницы, так и приложением.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-109">Furthermore, a provider must segment personalization data by page as well as by application.</span></span>  
  
<span data-ttu-id="4a8e3-110">Реализации <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> тесно связан с реализациями <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> , так как некоторые методы поставщика персонализации возвращают экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />-производные классы.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-110">Implementations of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> are tightly coupled to implementations of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> because some personalization provider methods return instances of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />-derived classes.</span></span> <span data-ttu-id="4a8e3-111">Для облегчения разработки настраиваемых поставщиков <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> базового класса включает реализацию по умолчанию персонализации логику и логику сериализации/десериализации, которая используется напрямую с помощью <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> класса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-111">To ease development of custom providers, the <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> base class includes a default implementation of the personalization logic and serialization/deserialization logic that is used directly by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> class.</span></span> <span data-ttu-id="4a8e3-112">В результате создания пользовательского поставщика, предназначенного исключительно для работы с другим хранилищем данных только требует реализации следующих абстрактных методов:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-112">As a result, authoring a custom provider solely for the purpose of working with a different data store only requires implementation of the following abstract methods:</span></span> <span data-ttu-id="4a8e3-113">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" /> — Этот метод должен иметь возможность подсчета числа строк данных персонализации в базе данных для переданного запроса параметров.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-113">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" /> - This method needs to be able to count the number of rows of personalization data in the database for the supplied query parameters.</span></span>  
  <span data-ttu-id="4a8e3-114">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" /> -Учитывая путь и имя пользователя, этот метод загружает два больших двоичных объектов (BLOB) из базы данных: один большой двоичный объект для общих данных и один для пользовательских данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-114">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" /> - Given the path and user name, this method loads two binary large objects (BLOBs) from the database: one BLOB for shared data and one for user data.</span></span> <span data-ttu-id="4a8e3-115">Если указать имя пользователя и путь, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> управления для доступа к странице сведения можно указать путь и имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-115">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  <span data-ttu-id="4a8e3-116">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" /> -Учитывая путь и имя пользователя, этот метод удаляет соответствующую строку в базе данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-116">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" /> - Given the path and user name, this method deletes the corresponding row in the database.</span></span> <span data-ttu-id="4a8e3-117">Если указать имя пользователя и путь, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> управления для доступа к странице сведения можно указать путь и имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-117">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  <span data-ttu-id="4a8e3-118">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" /> -Учитывая путь и имя пользователя, этот метод сохраняет указанный большой двоичный объект в базе данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-118">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" /> - Given the path and user name, this method saves the supplied BLOB to the database.</span></span> <span data-ttu-id="4a8e3-119">Если указать имя пользователя и путь, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> управления для доступа к странице сведения можно указать путь и имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-119">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  
<span data-ttu-id="4a8e3-120">Во всех этих методов если только предоставляется путь, который указывает, что выполняется работа с общими данными персонализации для страницы.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-120">In all of these methods, if only a path is supplied, that indicates the shared personalization data for the page is being operated upon.</span></span> <span data-ttu-id="4a8e3-121">Если в метод передается путь и имя пользователя, затем данные персонализации для страницы пользователя должны обрабатываться.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-121">If both a path and a username are passed to a method, then the user personalization data for the page should be acted upon.</span></span> <span data-ttu-id="4a8e3-122">В случае использования <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />, всегда должны загружаться общих данных для указанного пути, и при необходимости данные персонализации пользователя для пути должен загружаться Если имя пользователя не <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-122">In the case of <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />, the shared data for the specified path should always be loaded, and optionally the user personalization data for the path should also be loaded if the username is not <see langword="null" />.</span></span>  
  
<span data-ttu-id="4a8e3-123">Все абстрактные методы предназначены для использования только в приложениях администрирования и не используются инфраструктурой веб-частей во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-123">All other abstract methods are intended for use only in administrative applications and are not used by the Web Parts infrastructure at run time.</span></span> <span data-ttu-id="4a8e3-124">Пример реализации поставщика персонализации, см. в разделе <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> класса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-124">For an example of an implementation of a personalization provider, see the <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> class.</span></span></para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="4a8e3-125">Веб-частей ASP.NET элементов управления</span><span class="sxs-lookup"><span data-stu-id="4a8e3-125">ASP.NET Web Parts Controls</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="4a8e3-126">Общие сведения о персонализации частях Web</span><span class="sxs-lookup"><span data-stu-id="4a8e3-126">Web Parts Personalization Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/784d8z92(v=vs.100)"><span data-ttu-id="4a8e3-127">Пошаговое руководство. Реализации персонализации веб-частей, пользовательскими элементами управления</span><span class="sxs-lookup"><span data-stu-id="4a8e3-127">Walkthrough: Implementing Web Parts Personalization with a User Control</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178182(v=vs.100)"><span data-ttu-id="4a8e3-128">Персонализация веб-частей</span><span class="sxs-lookup"><span data-stu-id="4a8e3-128">Web Parts Personalization</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected PersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; PersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="4a8e3-129">Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-129">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-130">Так как это конструктор абстрактного класса, необходимо переопределить этот метод для создания экземпляра класса, который наследует от этого класса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-130">Because this is a constructor for an abstract class, you must override this method to create an instance of a class that inherits from this class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public abstract string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="4a8e3-131">При переопределении в производном классе получает или задает имя приложения, настроенного для поставщика.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-131">When overridden in a derived class, gets or sets the name of the application configured for the provider.</span></span></summary>
        <value><span data-ttu-id="4a8e3-132">Приложение, настроенное для поставщика личной настройки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-132">The application configured for the personalization provider.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-133">Если имя приложения не указан в файле конфигурации с помощью [элемент providers для элемента personalization для элемента webParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195) значение атрибута <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> используется свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-133">If an application name is not specified in the configuration file using the [providers Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195) attribute, the value of the <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> property is used.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="4a8e3-134">Так как один экземпляр поставщика личных настроек по умолчанию используется для всех запросов, обслуживаемых <xref:System.Web.HttpApplication> объекта, может иметь несколько запросов, выполняемых параллельно, каждая попытка задать <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> значение свойства.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-134">Because a single, default personalization provider instance is used for all the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently, each attempting to set the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property value.</span></span> <span data-ttu-id="4a8e3-135"><xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> Свойство не является поточно ориентированные для нескольких операций записи и изменив <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> значение свойства может привести к непредвиденному поведению для нескольких пользователей приложения.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-135">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property is not thread-safe for multiple writes, and changing the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property value can result in unexpected behavior for multiple users of an application.</span></span> <span data-ttu-id="4a8e3-136">Рекомендуется избегать кода, что позволяет пользователям задавать <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> свойство Если это не требуется.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-136">It is recommended that you avoid code allowing users to set the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property unless required.</span></span> <span data-ttu-id="4a8e3-137">Параметр <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> свойства могут быть необходимы, например, в административного приложения, которая управляет данными персонализации для нескольких приложений.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-137">Setting the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property might be required, for example, in an administrative application that manages personalization data for multiple applications.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSupportedUserCapabilities">
      <MemberSignature Language="C#" Value="protected virtual System.Collections.IList CreateSupportedUserCapabilities ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Collections.IList CreateSupportedUserCapabilities() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateSupportedUserCapabilities () As IList" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Collections::IList ^ CreateSupportedUserCapabilities();" />
      <MemberSignature Language="F#" Value="abstract member CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList&#xA;override this.CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList" Usage="personalizationProvider.CreateSupportedUserCapabilities " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IList</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="4a8e3-138">Возвращает список объектов <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, представляющих набор известных возможностей, используемых набором элементов управления веб-частей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-138">Returns a list of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> objects that represent the set of known capabilities used by the Web Parts control set.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-139">Объект <see cref="T:System.Collections.IList" />, представляющий набор известных возможностей, используемых набором элементов управления веб-частей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-139">An <see cref="T:System.Collections.IList" /> that represents the set of known capabilities used by the Web Parts control set.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-140">В настоящее время этот метод возвращает список, содержащий две возможности: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-140">Currently, this method returns a list containing two capabilities: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> and <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>.</span></span> <span data-ttu-id="4a8e3-141">Ниже приведены возможности по умолчанию, которые могут быть определены в [элемент authorization для элемента personalization для элемента webParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) сервисном [элемент personalization для элемента webParts (ASP.NET Схема параметров)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) элемент [webParts (схема параметров ASP.NET) элемент](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) раздел конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-141">These are the default capabilities that can be defined in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the [webParts Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section.</span></span> <span data-ttu-id="4a8e3-142">Если вы решили реализовать инфраструктуру пользовательской персонализации, можно переопределить этот метод и определить собственный набор возможностей, относящихся к авторизации пользователя.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-142">If you choose to implement a custom personalization infrastructure, you can override this method and define your own set of authorization-related user capabilities.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DetermineInitialScope">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, class System.Web.UI.WebControls.WebParts.PersonalizationState loadedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationScope DetermineInitialScope(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::Web::UI::WebControls::WebParts::PersonalizationState ^ loadedState);" />
      <MemberSignature Language="F#" Value="abstract member DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope&#xA;override this.DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope" Usage="personalizationProvider.DetermineInitialScope (webPartManager, loadedState)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationScope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="loadedState" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-143">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, который управляет данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-143">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> that manages the personalization information.</span></span></param>
        <param name="loadedState"><span data-ttu-id="4a8e3-144">Сведения о состоянии персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-144">The personalization state information.</span></span></param>
        <summary><span data-ttu-id="4a8e3-145">Определяет исходную область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-145">Determines whether the initial personalization scope should be <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> or <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> scope.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-146">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающий текущую область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-146">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> indicating whether the current personalization scope is <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> or <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-147">Этот метод определяет, следует ли текущей области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> или <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, используя ссылку <xref:System.Web.UI.WebControls.WebParts.WebPartManager> контроль и персонализация сведения, который уже был загружен из раньше в жизненном цикле персонализации состоянии.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-147">This method determines whether the current scope should be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> or <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, given a reference to a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control and the personalization state information that has already been loaded from earlier in the personalization life cycle.</span></span> <span data-ttu-id="4a8e3-148">Эта информация используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляр для последующие задачи, относящиеся к персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-148">This information is used by a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance for subsequent personalization-related tasks.</span></span>  
  
 <span data-ttu-id="4a8e3-149">Чтобы определить область персонализации используются следующие правила:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-149">The following rules are used to determine personalization scope:</span></span>  
  
-   <span data-ttu-id="4a8e3-150">Область предполагается, что изначально <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-150">Scope is assumed initially to be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span></span>  
  
-   <span data-ttu-id="4a8e3-151">Если учетная запись текущего пользователя не прошел проверку подлинности, область присваивается <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-151">If the currently executing user account is not authenticated, the scope is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="4a8e3-152">Если учетная запись текущего пользователя проходит проверку подлинности, выполняется дополнительная обработка в порядке приоритета:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-152">If the currently executing user account is authenticated, additional processing occurs in order of precedence:</span></span>  
  
    -   <span data-ttu-id="4a8e3-153">Если страница находится в режиме обратной передачи, запрос страницы содержит сведения об области из предыдущей отрисовки страницы.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-153">If the page is in postback mode, the page request contains scope information from a previous rendering of the page.</span></span> <span data-ttu-id="4a8e3-154">Если сведения об этой области указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> использовался области, а затем область, результатом которого является <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-154">If that scope information indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope was used, then the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
    -   <span data-ttu-id="4a8e3-155">При текущей выполняемой страницы было перенести его из другой страницы элемента управления (например, в том случае, если передача управления произошла из-за вызова <xref:System.Web.HttpServerUtility.Transfer%2A> метод; Примечание возникновения этой конкретной проверки для межстраничной) и, если ранее выполнение страницы было <xref:System.Web.UI.WebControls.WebParts.WebPartManager> экземпляра, область назначается значение `Personalization.Scope` свойства из предыдущего <xref:System.Web.UI.WebControls.WebParts.WebPartManager> экземпляра.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-155">If the currently executing page had control transferred to it from another page (for example, if the transfer of control occurred due to calling the <xref:System.Web.HttpServerUtility.Transfer%2A> method; note that this specific check does not occur for cross-page posting), and if the previously executing page had a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance, the scope is set to the value of the `Personalization.Scope` property from the previous <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance.</span></span>  
  
    -   <span data-ttu-id="4a8e3-156">Если предыдущие условия не выполняются, то область оценивает значение <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> свойства для текущего <xref:System.Web.UI.WebControls.WebParts.WebPartManager> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-156">If the previous criteria are not met, then the scope evaluates to the value of the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> property for the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="4a8e3-157">После внесения предыдущего вычисления, и в том случае, если область, результатом которого является <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область, происходит следующая обработка:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-157">After the previous evaluations have been made, and if the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope, the following processing occurs:</span></span>  
  
-   <span data-ttu-id="4a8e3-158">Если учетная запись текущего пользователя есть <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> возможность, область остается установленным в <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-158">If the currently executing user account has the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, the scope remains set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="4a8e3-159">Если учетная запись текущего пользователя не имеет <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> возможностей, а затем область сбрасывается до <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-159">If the currently executing user account does not have the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, then the scope is reset to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span></span>  
  
-   <span data-ttu-id="4a8e3-160">Если результатом всех предыдущих область вычислений является <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, этот результат хранится в виде скрытого поля на странице "настоящий".</span><span class="sxs-lookup"><span data-stu-id="4a8e3-160">If the result of all previous scope evaluations is <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, this result is stored as a hidden field on the currently executing page.</span></span> <span data-ttu-id="4a8e3-161">Это механизм, при котором страница может воспроизводить оценки область при последующих обратных передачах.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-161">This is the mechanism whereby a page can replay the scope evaluation during subsequent postbacks.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4a8e3-162"><paramref name="webPartManager" /> — <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-162"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4a8e3-163">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-163">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DetermineUserCapabilities">
      <MemberSignature Language="C#" Value="public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Collections.IDictionary DetermineUserCapabilities(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Collections::IDictionary ^ DetermineUserCapabilities(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary&#xA;override this.DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary" Usage="personalizationProvider.DetermineUserCapabilities webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-164">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-164">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization information.</span></span></param>
        <summary><span data-ttu-id="4a8e3-165">Возвращает словарь, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, которые представляют возможности учетной записи текущего пользователя, относящиеся к персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-165">Returns a dictionary containing <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> instances that represent the personalization-related capabilities of the currently executing user account.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-166">Объект <see cref="T:System.Collections.IDictionary" />, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, если учетная запись пользователя прошла проверку подлинности, или значение <see langword="null" />, если учетная запись текущего пользователя не прошла проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-166">An <see cref="T:System.Collections.IDictionary" /> containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> instances if the user account is authenticated, or <see langword="null" /> if the executing user account is not authenticated.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-167">Реализация по умолчанию этот метод использует эту информацию в [элемент authorization для элемента personalization для элемента webParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) сервисном [персонализации элемент для webParts (схема параметров ASP.NET)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) элемент [webParts (схема параметров ASP.NET) элемент](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) раздел конфигурации в файле Machine.config или Web.config, чтобы определить пользователя авторизованные возможности.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-167">The default implementation of this method consumes the information in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the [webParts Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section in the Machine.config or Web.config file to determine a user's authorized capabilities.</span></span>  
  
 <span data-ttu-id="4a8e3-168">Возможности в словаре будут членами <xref:System.Collections.IList> объект, возвращаемый <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> метод, который в данный момент включают <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> возможность и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> возможность.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-168">The capabilities in the dictionary will be members of the <xref:System.Collections.IList> object returned by the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> method, which currently include the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability and the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> capability.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4a8e3-169">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-169">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="4a8e3-170">-или-</span><span class="sxs-lookup"><span data-stu-id="4a8e3-170">-or-</span></span> 
<span data-ttu-id="4a8e3-171">Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-171">The request associated with the page is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4a8e3-172"><paramref name="webPartManager" /> — <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-172"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="abstract member FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int *  -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="personalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="4a8e3-173">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, содержащий данные персонализации для запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-173">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> with the personalization information to be queried.</span></span> <span data-ttu-id="4a8e3-174">Это значение не может быть равно <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-174">This value cannot be <see langword="null" />.</span></span></param>
        <param name="query"><span data-ttu-id="4a8e3-175">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-175">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" /> containing a query.</span></span> <span data-ttu-id="4a8e3-176">Это значение может быть равно <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-176">This value can be <see langword="null" />.</span></span></param>
        <param name="pageIndex"><span data-ttu-id="4a8e3-177">Место, где начинается выполнение запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-177">The location where the query starts.</span></span></param>
        <param name="pageSize"><span data-ttu-id="4a8e3-178">Число возвращаемых записей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-178">The number of records to return.</span></span></param>
        <param name="totalRecords"><span data-ttu-id="4a8e3-179">Общее число доступных записей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-179">The total number of records available.</span></span></param>
        <summary><span data-ttu-id="4a8e3-180">При переопределении в производном классе возвращает коллекцию, содержащую объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />, на основании области и указанных параметров запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-180">When overridden in a derived class, returns a collection containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />-derived objects based on scope and specific query parameters.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-181">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" />, содержащий объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-181">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" /> containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />-derived objects.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-182">Этот метод является абстрактным определением административного метода для выполнения запросов к данным персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-182">This method is the abstract definition of an administrative method for querying personalization data.</span></span> <span data-ttu-id="4a8e3-183">Производные реализации должны соответствовать правилам, описанным далее.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-183">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="4a8e3-184">Набор возвращаемых элементов ограничен `pageIndex` и `pageSize` параметров, где `pageSize` задает количество возвращаемых записей и `pageIndex` определяет, какие записи для возврата.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-184">The set of returned items is constrained by the `pageIndex` and `pageSize` parameters, where `pageSize` sets the number of records to return and `pageIndex` sets which records to return.</span></span> <span data-ttu-id="4a8e3-185">Например `pageIndex` 0 и `pageSize` 25 возвращает первые 25 вхождений, хотя `pageIndex` 1 и `pageSize` 25 возвратит вхождений 26 до 50.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-185">For example, a `pageIndex` of 0 and a `pageSize` of 25 would return the first 25 occurrences, while a `pageIndex` of 1 and a `pageSize` of 25 would return occurrences 26-50.</span></span> <span data-ttu-id="4a8e3-186">Если вы хотите получить все доступные записи, задайте `pageIndex` 0 и `pageSize` для <xref:System.Int32.MaxValue>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-186">If you want to retrieve all available records, set `pageIndex` to 0 and `pageSize` to <xref:System.Int32.MaxValue>.</span></span>  
  
 <span data-ttu-id="4a8e3-187"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-Производных объектов возвращаются в алфавитном порядке и отсортированы с помощью сочетания их <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> и <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> , оба в порядке возрастания значения свойств.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-187">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-derived objects are returned in alphabetical order and sorted by a combination of their <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> and <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> property values, both in ascending order.</span></span>  
  
 <span data-ttu-id="4a8e3-188">Этот метод передает символы-шаблоны запросов в базовом хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-188">This method passes query wildcard characters to the underlying data store.</span></span> <span data-ttu-id="4a8e3-189">Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает символы, например звездочку (\*), символ процента (%) или символ подчеркивания (_).</span><span class="sxs-lookup"><span data-stu-id="4a8e3-189">Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (\*), a percent symbol (%), or an underscore (_).</span></span>  
  
 <span data-ttu-id="4a8e3-190">Как правило, для хранилища данных SQL-совместимым, можно выполнить поиск с подстановочными символами на частичный путь с символом-шаблоном, которые появятся в начале, конечную или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-190">Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span> <span data-ttu-id="4a8e3-191">Например, чтобы найти все пути, начинающиеся с "\~/vdir», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение"\~/vdir%».</span><span class="sxs-lookup"><span data-stu-id="4a8e3-191">For example, to find all paths that start with "\~/vdir", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to "\~/vdir%".</span></span>  
  
 <span data-ttu-id="4a8e3-192">Аналогичным образом, поиск с подстановочными символами на имя частичного пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-192">Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property.</span></span> <span data-ttu-id="4a8e3-193">Например, чтобы найти все имена пользователей, которые начинаются с «Иван» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «Джон %».</span><span class="sxs-lookup"><span data-stu-id="4a8e3-193">For example, to find all user names that start with "John", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like "John%".</span></span>  
  
 <span data-ttu-id="4a8e3-194">Действуют следующие ограничения запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-194">The following query constraints apply:</span></span>  
  
-   <span data-ttu-id="4a8e3-195">Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать `null` или значения по умолчанию, то все записи, соответствующие указанному `scope` параметра возвращаются.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-195">If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are returned.</span></span>  
  
-   <span data-ttu-id="4a8e3-196">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, возвращаемых записей также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-196">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the returned records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.</span></span>  
  
-   <span data-ttu-id="4a8e3-197">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство не `null`, возвращаемых записей также являются имена отфильтрованный на основе пользователя, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-197">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the returned records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.</span></span>  
  
-   <span data-ttu-id="4a8e3-198">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, а затем также возвращаемые записи фильтруются для возвращения только те записи, связанных с неактивными пользователями.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-198">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the returned records are also filtered to return only those records associated with inactive users.</span></span> <span data-ttu-id="4a8e3-199">Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньшим или равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-199">The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.</span></span>  
  
 <span data-ttu-id="4a8e3-200">Обратите внимание на то, что этот метод не проверяет сочетания параметров запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-200">Note that this method does not validate combinations of query parameters.</span></span> <span data-ttu-id="4a8e3-201">Например код может запросить набор записей состояния персонализации, связанные с определенным именем пользователя в общей области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-201">For example, code can request a set of personalization state records associated with a specific user name in the shared scope.</span></span> <span data-ttu-id="4a8e3-202">Так как имена пользователей не связаны с общими данными, возвращаемая коллекция будет пустой.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-202">Because user names are not associated with shared information, the returned collection would be empty.</span></span>  
  
 <span data-ttu-id="4a8e3-203">Перечислены сочетания параметров, которые потенциально могут возвращать непустую коллекцию.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-203">Parameter combinations that have the potential to return a non-empty collection include:</span></span>  
  
-   <span data-ttu-id="4a8e3-204"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область, в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-204"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span>  
  
-   <span data-ttu-id="4a8e3-205"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область, в сочетании со значениями для одного или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-205"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="abstract member GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="personalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="4a8e3-206">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-206">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> of the personalization information to be queried.</span></span> <span data-ttu-id="4a8e3-207">Это значение не может быть равно <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-207">This value cannot be <see langword="null" />.</span></span></param>
        <param name="query"><span data-ttu-id="4a8e3-208">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-208">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" /> containing a query.</span></span> <span data-ttu-id="4a8e3-209">Это значение может быть равно <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-209">This value can be <see langword="null" />.</span></span></param>
        <summary><span data-ttu-id="4a8e3-210">При переопределении в производном классе возвращает количество строк в базовом хранилище данных, которые существуют в указанной области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-210">When overridden in a derived class, returns the number of rows in the underlying data store that exist within the specified scope.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-211">Количество строк в базовом хранилище данных, которые существуют для заданного параметра <paramref name="scope" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-211">The number of rows in the underlying data store that exist for the specified <paramref name="scope" /> parameter.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-212">Этот метод является абстрактным определением административного метода для получения количества строк данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-212">This method is the abstract definition of an administrative method for retrieving counts of personalization data.</span></span> <span data-ttu-id="4a8e3-213">Производные реализации должны соответствовать правилам, описанным далее.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-213">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="4a8e3-214">Этот метод передает символы-шаблоны запросов в базовом хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-214">This method passes query wildcard characters to the underlying data store.</span></span> <span data-ttu-id="4a8e3-215">Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает символы, например звездочку (\*), символ процента (%) или символ подчеркивания (_).</span><span class="sxs-lookup"><span data-stu-id="4a8e3-215">Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (\*), a percent symbol (%), or an underscore (_).</span></span>  
  
 <span data-ttu-id="4a8e3-216">Как правило, для хранилища данных SQL-совместимым, можно выполнить поиск с подстановочными символами на частичный путь с символом-шаблоном, которые появятся в начале, конечную или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-216">Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span> <span data-ttu-id="4a8e3-217">Например, чтобы найти все пути, начинающиеся с "\~/vdir», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение"\~/vdir%».</span><span class="sxs-lookup"><span data-stu-id="4a8e3-217">For example, to find all paths that start with "\~/vdir", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to "\~/vdir%".</span></span>  
  
 <span data-ttu-id="4a8e3-218">Аналогичным образом, поиск с подстановочными символами на имя частичного пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-218">Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property.</span></span> <span data-ttu-id="4a8e3-219">Например, чтобы найти все имена пользователей, которые начинаются с «Иван» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «Джон %».</span><span class="sxs-lookup"><span data-stu-id="4a8e3-219">For example, to find all user names that start with "John", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like "John%".</span></span>  
  
 <span data-ttu-id="4a8e3-220">Действуют следующие ограничения запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-220">The following query constraints apply:</span></span>  
  
-   <span data-ttu-id="4a8e3-221">Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать `null` или значения по умолчанию, то все записи, соответствующие указанному `scope` параметр учитываются.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-221">If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are counted.</span></span>  
  
-   <span data-ttu-id="4a8e3-222">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, сосчитанный записи также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-222">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the counted records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.</span></span>  
  
-   <span data-ttu-id="4a8e3-223">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство не `null`, сосчитанный записи также являются имена отфильтрованный на основе пользователя, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-223">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the counted records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.</span></span>  
  
-   <span data-ttu-id="4a8e3-224">Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, а затем сосчитанный записи также фильтруются для возвращения только те записи, связанных с неактивными пользователями.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-224">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the counted records are also filtered to return only those records associated with inactive users.</span></span> <span data-ttu-id="4a8e3-225">Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньшим или равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-225">The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.</span></span>  
  
 <span data-ttu-id="4a8e3-226">Обратите внимание на то, что этот метод не проверяет сочетания параметров запроса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-226">Note that this method does not validate combinations of query parameters.</span></span> <span data-ttu-id="4a8e3-227">Например код может запросить число записей состояния персонализации, связанные с определенным именем пользователя в общей области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-227">For example, code can request a count of personalization state records associated with a specific user name in the shared scope.</span></span> <span data-ttu-id="4a8e3-228">Так как имена пользователей не связаны с общими данными, количество возвращаемых результатов будет ноль.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-228">Because user names are not associated with shared information, the returned count would be zero.</span></span>  
  
 <span data-ttu-id="4a8e3-229">Комбинаций параметров, которые потенциально могут возвратить ненулевое число включают:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-229">Parameter combinations that have the potential to return a non-zero count include:</span></span>  
  
-   <span data-ttu-id="4a8e3-230"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область, в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-230"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span>  
  
-   <span data-ttu-id="4a8e3-231"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область, в сочетании со значениями для одного или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-231"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string *  *  -&gt; unit" Usage="personalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-232">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-232">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="4a8e3-233">Путь к данным персонализации, используемый в качестве ключа для их получения.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-233">The path for personalization information to be used as the retrieval key.</span></span></param>
        <param name="userName"><span data-ttu-id="4a8e3-234">Имя пользователя для данных персонализации, используемое в качестве ключа для их получения.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-234">The user name for personalization information to be used as the retrieval key.</span></span></param>
        <param name="sharedDataBlob"><span data-ttu-id="4a8e3-235">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-235">The returned data for the <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> scope.</span></span></param>
        <param name="userDataBlob"><span data-ttu-id="4a8e3-236">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-236">The returned data for the <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> scope.</span></span></param>
        <summary><span data-ttu-id="4a8e3-237">При переопределении в производном классе загружает необработанные данные персонализации из базового хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-237">When overridden in a derived class, loads raw personalization data from the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-238">Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализовать этот метод следует использовать `webPartManager`, `path`, и `username` параметры в качестве ключей получении.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-238">Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `username` parameters as retrieval keys.</span></span> <span data-ttu-id="4a8e3-239">Независимо от того, как данные, хранящиеся в хранилище данных (некоторые хранилища данных может выполнить определенный тип интеллектуального хранения), персонализации, которые должны возвращаться как упакованный набор байт в двух массивах.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-239">Regardless of how the data is stored in the data store (some data stores might perform some type of intelligent storage), the personalization data must be returned as a packed set of bytes in two arrays.</span></span> <span data-ttu-id="4a8e3-240">Возвращаемые данные должны соответствовать следующим правилам:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-240">The returned data must conform to the following rules:</span></span>  
  
-   <span data-ttu-id="4a8e3-241">Данные для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области всегда должен быть возвращен в `sharedDataBlob` параметра.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-241">The data for the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope must always be returned in the `sharedDataBlob` parameter.</span></span>  
  
-   <span data-ttu-id="4a8e3-242">В зависимости от значения ключей <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные возвращаются в `userDataBlob` параметра.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-242">Depending on the key values, <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data is returned in the `userDataBlob` parameter.</span></span> <span data-ttu-id="4a8e3-243">Отличный от`null` значение `userName` параметр указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данных также должны быть получены.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-243">A non-`null` value for the `userName` parameter indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data should also be retrieved.</span></span>  
  
 <span data-ttu-id="4a8e3-244">Поставщик персонализации, который является производным от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализует этот метод можно оптимизировать взаимодействие с хранилищем данных путем извлечения всех данных персонализации в один цикл обращения, в отличие от получения <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные в двух Разделите циклами.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-244">A personalization provider that derives from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implements this method can optimize interactions with its data store by retrieving all personalization data in one round trip, as opposed to retrieving <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data in two separate round trips.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationState ^ LoadPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState&#xA;override this.LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState" Usage="personalizationProvider.LoadPersonalizationState (webPartManager, ignoreCurrentUser)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationState</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="ignoreCurrentUser" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-245">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-245">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="ignoreCurrentUser"><span data-ttu-id="4a8e3-246">Значение <see cref="T:System.Boolean" />, показывающее, должно ли имя пользователя передаваться поставщику личной настройки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-246">A <see cref="T:System.Boolean" /> indicating whether the user name should be passed to the personalization provider.</span></span></param>
        <summary><span data-ttu-id="4a8e3-247">Загружает необработанные данные из базового хранилища данных и преобразует их в объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-247">Loads the raw data from the underlying data store and converts that data into a <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> object.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-248">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий данные персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-248">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> containing personalization data.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-249">Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класс для загрузки данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-249">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to load personalization data.</span></span> <span data-ttu-id="4a8e3-250">Реализация по умолчанию загружает необработанные данные из базового хранилища данных (функциональная возможность реализована в производном поставщиков), а затем преобразует необработанные данные в <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> экземпляра.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-250">The default implementation loads the raw data from the underlying data store (functionality is implemented in derived providers) and then converts the raw data into a <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> instance.</span></span>  
  
 <span data-ttu-id="4a8e3-251">Если `ignoreCurrentUser` параметр `true`, имя пользователя не передается <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-251">If the `ignoreCurrentUser` parameter is `true`, no user name is passed to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> method.</span></span> <span data-ttu-id="4a8e3-252">Можно выбрать поставщика персонализации, скорее всего, это означает, что только состояние персонализации с <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области должны быть получены от базового хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-252">A personalization provider can choose to interpret this as meaning that only personalization state with a <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope should be retrieved from the underlying data store.</span></span>  
  
 <span data-ttu-id="4a8e3-253">Когда <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> выполняется метод, он вызывает метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> метод, и существует три типа ошибки десериализации, которые могут возникнуть при загрузке состояния.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-253">When the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> method is executing, it calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> method, and there are three types of deserialization errors that can occur as the state is being loaded.</span></span> <span data-ttu-id="4a8e3-254">Когда эти ошибки, исключение не создается, и вместо регистрации событий ошибок с помощью функции наблюдения за работоспособностью (сведения о работоспособности, мониторинга и доступ к журналам, созданные им, см. в разделе [Обзор мониторинга работоспособности ASP.NET ](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)).</span><span class="sxs-lookup"><span data-stu-id="4a8e3-254">When these specific errors occur, no exception is thrown, and the error events are logged instead by the Health Monitoring feature (for information on health monitoring and accessing the logs created by it, see [ASP.NET Health Monitoring Overview](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)).</span></span> <span data-ttu-id="4a8e3-255">Следующие три сценария причину ошибки десериализации, события для записи в журнал:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-255">The following three scenarios cause deserialization error events to be written to the log:</span></span>  
  
-   <span data-ttu-id="4a8e3-256">Неудачная попытка десериализовать тип свойства, которое использует строку <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-256">A failed attempt to deserialize a property type that uses a string <xref:System.ComponentModel.TypeConverter>.</span></span>  
  
-   <span data-ttu-id="4a8e3-257">Неудачная попытка десериализовать тип свойства, которое использует двоичную сериализацию.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-257">A failed attempt to deserialize a property type that uses binary serialization.</span></span>  
  
-   <span data-ttu-id="4a8e3-258">Неудачная попытка десериализовать свойство тип, так как не удается создать экземпляр типа.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-258">A failed attempt to deserialize a property type because an instance of the type cannot be created.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4a8e3-259">Значение параметра <paramref name="webPartManager" /> — <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-259">The <paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4a8e3-260">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-260">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="4a8e3-261">-или-</span><span class="sxs-lookup"><span data-stu-id="4a8e3-261">-or-</span></span> 
<span data-ttu-id="4a8e3-262">Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-262">The request associated with the page is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="personalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-263">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-263">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="4a8e3-264">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-264">The path for personalization information to be used as the data store key.</span></span></param>
        <param name="userName"><span data-ttu-id="4a8e3-265">Имя пользователя для данных персонализации, используемое в качестве ключа хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-265">The user name for personalization information to be used as the data store key.</span></span></param>
        <summary><span data-ttu-id="4a8e3-266">При переопределении в производном классе удаляет необработанные данные персонализации из базового хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-266">When overridden in a derived class, deletes raw personalization data from the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-267">Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализовать этот метод следует использовать `webPartManager`, `path`, и `userName` параметры в качестве хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-267">Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `userName` parameters as storage keys.</span></span> <span data-ttu-id="4a8e3-268">В производных реализациях необходимо изменить хранилище данных, таким образом, фактически удаляется данные персонализации для предоставленного хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-268">Derived implementations must modify the data store so that personalization data for supplied storage keys is effectively deleted.</span></span> <span data-ttu-id="4a8e3-269">Зависит от производной реализации как физическое выполнение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-269">It is up to the derived implementations as to how they physically accomplish this.</span></span>  
  
 <span data-ttu-id="4a8e3-270">Производный поставщик личной настройки необходимо отличать данные персонализации на основе отдельных страниц.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-270">The derived personalization provider must be able to distinguish personalization data on a per-page basis.</span></span> <span data-ttu-id="4a8e3-271">Кроме того, для состояния данной странице поставщика личной настройки должен иметь возможность различать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-271">Furthermore, for a given page's state, the personalization provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope data.</span></span> <span data-ttu-id="4a8e3-272">Если не`null` предоставляется имя пользователя, а затем применяет операцию сброса к <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область; в противном случае операция сброса применяется к <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-272">If a non-`null` user name is provided, then the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope; otherwise, the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ResetPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit&#xA;override this.ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit" Usage="personalizationProvider.ResetPersonalizationState webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-273">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-273">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <summary><span data-ttu-id="4a8e3-274">Сбрасывает данные персонализации в базовом хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-274">Resets personalization data to the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-275">Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класс сброса данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-275">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to reset personalization data.</span></span> <span data-ttu-id="4a8e3-276">Реализация по умолчанию использует <xref:System.Web.UI.WebControls.WebParts.WebPartManager> управления, чтобы определить путь и имя пользователя для данных для сброса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-276">The default implementation uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to determine the path and user name for the data to be reset.</span></span> <span data-ttu-id="4a8e3-277">Затем реализация по умолчанию вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-277">The default implementation then calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4a8e3-278"><paramref name="webPartManager" /> — <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-278"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4a8e3-279">Объект <paramref name="webPartManager" /> не сопоставлен со страницей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-279"><paramref name="webPartManager" /> is not associated with a page.</span></span>  
  
<span data-ttu-id="4a8e3-280">-или-</span><span class="sxs-lookup"><span data-stu-id="4a8e3-280">-or-</span></span> 
<span data-ttu-id="4a8e3-281">Страница не сопоставлена с выполняющимся запросом <see cref="T:System.Web.HttpRequest" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-281">The page is not associated with an in-progress <see cref="T:System.Web.HttpRequest" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="abstract member ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="personalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="4a8e3-282">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для сброса.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-282">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> of the personalization information to be reset.</span></span> <span data-ttu-id="4a8e3-283">Это значение не может быть равно <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-283">This value cannot be <see langword="null" />.</span></span></param>
        <param name="paths"><span data-ttu-id="4a8e3-284">Пути к удаляемым данным персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-284">The paths for personalization information to be deleted.</span></span></param>
        <param name="usernames"><span data-ttu-id="4a8e3-285">Имена пользователей для удаляемых данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-285">The user names for personalization information to be deleted.</span></span></param>
        <summary><span data-ttu-id="4a8e3-286">При переопределении в производном классе удаляет состояние персонализации из базового хранилища данных в зависимости от указанных параметров.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-286">When overridden in a derived class, deletes personalization state from the underlying data store based on the specified parameters.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-287">Число удаленных строк.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-287">The number of rows deleted.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-288">Этот метод является абстрактным определением административного метода для удаления данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-288">This method is the abstract definition of an administrative method for deleting personalization data.</span></span> <span data-ttu-id="4a8e3-289">Производные реализации должны соответствовать правилам, описанным далее.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-289">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="4a8e3-290">Не символ поиск с подстановочными знаками поддерживаются этим методом.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-290">No wildcard character searches are supported by this method.</span></span> <span data-ttu-id="4a8e3-291">Если для поставщика личной настройки предоставляет доступ к данным из хранилища данных с поддержкой транзакций, этот метод должен выполнять свои операции в одной атомарной транзакции.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-291">If the personalization provider exposes data from a transaction-aware data store, this method should perform its operations as a single atomic transaction.</span></span>  
  
 <span data-ttu-id="4a8e3-292">Допускаются только следующие сочетания параметров:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-292">Only the following combinations of parameters are allowed:</span></span>  
  
-   <span data-ttu-id="4a8e3-293">`scope` Параметр имеет значение, а все остальные параметры задаются `null`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-293">The `scope` parameter is set, and all other parameters are set to `null`.</span></span> <span data-ttu-id="4a8e3-294">Это сочетание удаляет все данные персонализации веб-частей, связанные с областью персонализации, обозначается `scope`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-294">This combination deletes all Web Parts personalization data associated with the personalization scope indicated by `scope`.</span></span>  
  
-   <span data-ttu-id="4a8e3-295">`scope` Задан параметр и `paths` параметр содержит хотя бы одно значение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-295">The `scope` parameter is set, and the `paths` parameter contains at least one value.</span></span> <span data-ttu-id="4a8e3-296">Это сочетание удаляет все данные персонализации веб-частей для указанного пути или путей в области персонализации, заданной параметром `scope`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-296">This combination deletes all Web Parts personalization data for the specified path or paths in the personalization scope indicated by `scope`.</span></span>  
  
-   <span data-ttu-id="4a8e3-297">`scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметр имеет значение и содержит только одно значение и `usernames` параметр содержит хотя бы одно значение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-297">The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, the `paths` parameter is set and contains only one value, and the `usernames` parameter contains at least one value.</span></span> <span data-ttu-id="4a8e3-298">Это сочетание удаляет все данные веб-частей для заданного пути, который связан с пользователем или пользователями, содержащихся в персонализации `usernames`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-298">This combination deletes all user personalization Web Parts data for the given path that is associated with the user or users contained in `usernames`.</span></span>  
  
-   <span data-ttu-id="4a8e3-299">`scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметр имеет значение `null`и `usernames` параметр содержит хотя бы одно значение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-299">The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, the `paths` parameter is set to `null`, and the `usernames` parameter contains at least one value.</span></span> <span data-ttu-id="4a8e3-300">Это сочетание удаляет все данные веб-частей, персонализации пользователя для всех путей, связанных с пользователями, которые содержатся в `usernames`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-300">This combination deletes all per-user personalization Web Parts data, across all paths, associated with the user or users contained in `usernames`.</span></span>  
  
 <span data-ttu-id="4a8e3-301">Другие сочетания значений параметров является недопустимым и вызовет <xref:System.ArgumentException> исключение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-301">Any other combination of parameter values is invalid and will throw an <xref:System.ArgumentException> exception.</span></span> <span data-ttu-id="4a8e3-302">В частности не допускаются следующие два сочетания:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-302">Specifically, the following two combinations are not allowed:</span></span>  
  
-   <span data-ttu-id="4a8e3-303">`usernames` Параметра не может быть обеспечено при `scope` присваивается <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-303">The `usernames` parameter cannot be provided when `scope` is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="4a8e3-304">`paths` Параметр не может содержать более одной записи при `usernames` параметр не является `null`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-304">The `paths` parameter cannot contain more than one entry when the `usernames` parameter is not `null`.</span></span>  
  
 <span data-ttu-id="4a8e3-305">Любой `paths` и `usernames` значения параметров, содержащихся в соответствующих массивах должны соответствовать следующим правилам проверки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-305">Any `paths` and `usernames` parameter values contained within the respective arrays must meet the following validation rules.</span></span> <span data-ttu-id="4a8e3-306">Если все правила проверки для любой член массивы параметров, <xref:System.ArgumentException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-306">If any validation rules fail for any member of the parameter arrays, an <xref:System.ArgumentException> exception is thrown.</span></span> <span data-ttu-id="4a8e3-307">Ниже приведены правила проверки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-307">The validation rules are:</span></span>  
  
-   <span data-ttu-id="4a8e3-308">`null` значения не допускаются.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-308">`null` values are not allowed.</span></span>  
  
-   <span data-ttu-id="4a8e3-309">Пустая строка ("») не допускается.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-309">An empty string ("") is not allowed.</span></span> <span data-ttu-id="4a8e3-310">Параметры должны быть сокращены до выполняется проверка пустая строка.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-310">Parameters should be trimmed prior to performing an empty string check.</span></span>  
  
-   <span data-ttu-id="4a8e3-311">`usernames` Параметр не может содержать запятые (,).</span><span class="sxs-lookup"><span data-stu-id="4a8e3-311">The `usernames` parameter cannot contain commas (,).</span></span>  
  
-   <span data-ttu-id="4a8e3-312">Длина `paths` параметра не может превышать 256 символов для базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-312">The length of the `paths` parameter cannot be greater than 256 characters for a SQL database.</span></span>  
  
-   <span data-ttu-id="4a8e3-313">Длина `usernames` параметра не может превышать 256 символов для базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-313">The length of the `usernames` parameter cannot be greater than 256 characters for a SQL database.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="abstract member ResetUserState : string * DateTime -&gt; int" Usage="personalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="4a8e3-314">Путь к удаляемым данным персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-314">The path of the personalization data to be deleted.</span></span> <span data-ttu-id="4a8e3-315">Это значение может быть равно <see langword="null" />, но не может быть пустой строкой ("").</span><span class="sxs-lookup"><span data-stu-id="4a8e3-315">This value can be <see langword="null" /> but cannot be an empty string ("").</span></span></param>
        <param name="userInactiveSinceDate"><span data-ttu-id="4a8e3-316">Дата, указывающая время последнего изменения данных персонализации пользователем веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-316">The date indicating the last time a Web site user changed personalization data.</span></span></param>
        <summary><span data-ttu-id="4a8e3-317">При переопределении в производном классе удаляет данные персонализации веб-частей из базового хранилища данных в зависимости от указанных параметров.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-317">When overridden in a derived class, deletes Web Parts personalization data from the underlying data store based on the specified parameters.</span></span></summary>
        <returns><span data-ttu-id="4a8e3-318">Количество строк, удаленных из базового хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-318">The number of rows deleted from the underlying data store.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-319">Этот метод является абстрактным определением административного метода для удаления данных персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-319">This method is the abstract definition of an administrative method for deleting personalization data.</span></span> <span data-ttu-id="4a8e3-320">Обратите внимание, что этот метод затрагивает только пользовательские данные персонализации и не общих данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-320">Note that this method affects only user personalization data, and not shared data.</span></span>  
  
 <span data-ttu-id="4a8e3-321">Производная реализация должна следовать правилам, описанным далее:</span><span class="sxs-lookup"><span data-stu-id="4a8e3-321">Derived implementations should follow the logic described below:</span></span>  
  
-   <span data-ttu-id="4a8e3-322">`path` Параметр не может содержать подстановочные знаки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-322">The `path` parameter cannot contain wildcard characters.</span></span>  
  
-   <span data-ttu-id="4a8e3-323">Если поставщик предоставляет доступ к данным из хранилища данных с поддержкой транзакций, этот метод должен выполнять свои операции в одной атомарной транзакции.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-323">If the provider exposes data from a transaction-aware data store, this method should perform its operations in a single atomic transaction.</span></span>  
  
-   <span data-ttu-id="4a8e3-324">Если `path` параметра отличается от`null`, затем связываются только записи персонализации пользователя с `path` будут удалены.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-324">If the `path` parameter is non-`null`, then only per-user personalization records associated with `path` will be deleted.</span></span>  
  
-   <span data-ttu-id="4a8e3-325">Только записи пользовательской персонализации, связанные с пользователями, которые считаются неактивными после даты, указанной в `userInactiveSinceDate` параметра будут удалены.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-325">Only per-user personalization records associated with users that are considered inactive since the date indicated in the `userInactiveSinceDate` parameter will be deleted.</span></span> <span data-ttu-id="4a8e3-326">В частности, записи, где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> удаляются.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-326">Specifically, records where <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> is less than or equal to <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> are deleted.</span></span>  
  
-   <span data-ttu-id="4a8e3-327">Если указаны оба параметра, будут удалены записи, которые соответствуют оба ограничения.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-327">If both parameters are provided, then records that match both constraints are deleted.</span></span>  
  
-   <span data-ttu-id="4a8e3-328">`path` Параметр может быть `null`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-328">The `path` parameter can be `null`.</span></span>  
  
-   <span data-ttu-id="4a8e3-329">`path` Параметра не может быть пустой строкой.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-329">The `path` parameter cannot be an empty string.</span></span> <span data-ttu-id="4a8e3-330">Должны быть сокращены до выполнения этой проверки.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-330">It should be trimmed prior to performing this check.</span></span>  
  
-   <span data-ttu-id="4a8e3-331">Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не может быть равно `null`.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-331">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property cannot be `null`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="personalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="4a8e3-332">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-332">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="4a8e3-333">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-333">The path for personalization information to be used as the data store key.</span></span></param>
        <param name="userName"><span data-ttu-id="4a8e3-334">Имя пользователя для данных персонализации, используемое в качестве ключа.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-334">The user name for personalization information to be used as the key.</span></span></param>
        <param name="dataBlob"><span data-ttu-id="4a8e3-335">Массив байт, представляющий сохраняемые данные.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-335">The byte array of data to be saved.</span></span></param>
        <summary><span data-ttu-id="4a8e3-336">При переопределении в производном классе сохраняет необработанные данные персонализации в базовое хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-336">When overridden in a derived class, saves raw personalization data to the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-337">Этот метод является абстрактным определением метода, используемого для сохранения необработанные данные персонализации в базовом хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-337">This method is the abstract definition of the method used for saving raw personalization data to the underlying data store.</span></span>  
  
 <span data-ttu-id="4a8e3-338">В производных реализациях следует использовать `webPartManager`, `path`, и `userName` параметры в качестве хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-338">Derived implementations should use the `webPartManager`, `path`, and `userName` parameters as storage keys.</span></span> <span data-ttu-id="4a8e3-339">Производный поставщик личной настройки необходимо отличать данные персонализации на основе отдельных страниц.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-339">The derived personalization provider must be able to distinguish personalization data on a per-page basis.</span></span> <span data-ttu-id="4a8e3-340">Кроме того, для состояния данной странице, поставщик должен иметь возможность различать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-340">Furthermore, for a given page's state, the provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope.</span></span> <span data-ttu-id="4a8e3-341">Если не`null` предоставляется имя пользователя, то `dataBlob` параметр находится в <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область; в противном случае `dataBlob` параметр предполагается, что в <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-341">If a non-`null` user name is provided, then the `dataBlob` parameter is in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope; otherwise, the `dataBlob` parameter is assumed to be in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SavePersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SavePersonalizationState (state As PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SavePersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationState ^ state);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit&#xA;override this.SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit" Usage="personalizationProvider.SavePersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="4a8e3-342">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий сохраняемые данные персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-342">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> containing personalization data to be saved.</span></span></param>
        <summary><span data-ttu-id="4a8e3-343">Сохраняет данные персонализации в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-343">Saves personalization data to a data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="4a8e3-344">Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> классу сохранять данные персонализации.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-344">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to save personalization data.</span></span>  
  
 <span data-ttu-id="4a8e3-345">Реализация по умолчанию этот метод использует методы внутренней реализации <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> упаковать данные персонализации в массив байтов.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-345">The default implementation of this method uses the methods of an internal implementation of <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> to pack personalization data into a byte array.</span></span> <span data-ttu-id="4a8e3-346">Если результаты этой упаковки создать пустой массив (так как данные персонализации не завершилась извлечение свойства), по умолчанию реализация вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-346">If the results of this packing create an empty byte array (because property extraction resulted in no personalization data), the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method.</span></span> <span data-ttu-id="4a8e3-347">В противном случае реализация по умолчанию вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-347">Otherwise, the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="4a8e3-348"><paramref name="state" /> — <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-348"><paramref name="state" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="4a8e3-349">Сохраняемый объект <paramref name="state" /> имеет тип, отличный от объекта <paramref name="state" />, возвращенного методом <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />.</span><span class="sxs-lookup"><span data-stu-id="4a8e3-349">The <paramref name="state" /> object being saved has a different type from the <paramref name="state" /> object that was returned by the <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" /> method.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>